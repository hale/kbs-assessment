<?xml version="1.0"?>

<rdf:RDF
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:owl="http://www.w3.org/2002/07/owl#"
  xmlns="http://www.cs4021/bookstore.owl#"
  xml:base="http://www.cs4021/bookstore.owl">

  <owl:Ontology rdf:about=""/>

  <owl:Class rdf:ID="Recommendation"/>
  <owl:Class rdf:ID="Person"/>

  <owl:Class rdf:ID="Customer">
    <rdfs:subClassOf>
      <owl:Restriction>
        <owl:minCardinality rdf:datatype="http://www.w3.org/2001/XMLSchema#int"
          >1</owl:minCardinality>
        <owl:onProperty>
          <owl:ObjectProperty rdf:ID="hasMadePurchase"/>
        </owl:onProperty>
      </owl:Restriction>
    </rdfs:subClassOf>
    <rdfs:subClassOf rdf:resource="http://www.w3.org/2002/07/owl#Thing"/>
  </owl:Class>

  <owl:Class rdf:ID="Book"/>
  <owl:Class rdf:ID="Purchase"/>

  <owl:Class rdf:ID="Author">
    <rdfs:subClassOf>
      <owl:Restriction>
        <owl:minCardinality rdf:datatype="http://www.w3.org/2001/XMLSchema#int"
          >1</owl:minCardinality>
        <owl:onProperty>
          <owl:ObjectProperty rdf:ID="hasWritten"/>
        </owl:onProperty>
      </owl:Restriction>
    </rdfs:subClassOf>
    <rdfs:subClassOf rdf:resource="http://www.w3.org/2002/07/owl#Thing"/>
  </owl:Class>

  <owl:ObjectProperty rdf:about="#hasMadePurchase">
    <rdfs:domain rdf:resource="#Person"/>
    <rdfs:range rdf:resource="#Purchase"/>
  </owl:ObjectProperty>

  <owl:ObjectProperty rdf:ID="hasBook">
    <rdfs:range rdf:resource="#Book"/>
    <rdf:type rdf:resource="http://www.w3.org/2002/07/owl#FunctionalProperty"/>
    <rdfs:domain>
      <owl:Class>
        <owl:unionOf rdf:parseType="Collection">
          <owl:Class rdf:about="#Purchase"/>
          <owl:Class rdf:about="#Recommendation"/>
        </owl:unionOf>
      </owl:Class>
    </rdfs:domain>
  </owl:ObjectProperty>

  <owl:ObjectProperty rdf:ID="hasAuthor">
    <rdfs:domain rdf:resource="#Book"/>
    <rdfs:range rdf:resource="#Person"/>
    <owl:inverseOf>
      <owl:ObjectProperty rdf:about="#hasWritten"/>
    </owl:inverseOf>
  </owl:ObjectProperty>

  <owl:ObjectProperty rdf:about="#hasWritten">
    <owl:inverseOf rdf:resource="#hasAuthor"/>
    <rdfs:domain rdf:resource="#Person"/>
    <rdfs:range rdf:resource="#Book"/>
  </owl:ObjectProperty>

  <owl:DatatypeProperty rdf:ID="hasTitle">
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#string"/>
    <rdfs:domain rdf:resource="#Book"/>
    <rdf:type rdf:resource="http://www.w3.org/2002/07/owl#FunctionalProperty"/>
  </owl:DatatypeProperty>

  <owl:FunctionalProperty rdf:ID="hasName">
    <rdfs:domain rdf:resource="#Person"/>
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#string"/>
    <rdf:type rdf:resource="http://www.w3.org/2002/07/owl#DatatypeProperty"/>
  </owl:FunctionalProperty>

  <owl:FunctionalProperty rdf:ID="hasBuyer">
    <rdf:type rdf:resource="http://www.w3.org/2002/07/owl#ObjectProperty"/>
    <rdfs:domain>
      <owl:Class>
        <owl:unionOf rdf:parseType="Collection">
          <owl:Class rdf:about="#Purchase"/>
          <owl:Class rdf:about="#Recommendation"/>
        </owl:unionOf>
      </owl:Class>
    </rdfs:domain>
    <rdfs:range rdf:resource="#Person"/>
  </owl:FunctionalProperty>


  <Purchase rdf:ID="Purchase_17">
    <hasBook>
      <Book rdf:ID="Moby_Dick">
        <hasAuthor>
          <Person rdf:ID="Herman_Melville">
            <hasWritten rdf:resource="#Moby_Dick"/>
            <hasName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >Herman Melville</hasName>
          </Person>
        </hasAuthor>
        <hasTitle rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >Moby Dick</hasTitle>
      </Book>
    </hasBook>
    <hasBuyer>
      <Person rdf:ID="David">
        <hasName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >David</hasName>
        <hasMadePurchase rdf:resource="#Purchase_17"/>
        <hasMadePurchase>
          <Purchase rdf:ID="Purchase_4">
            <hasBuyer rdf:resource="#David"/>
            <hasBook>
              <Book rdf:ID="Fly_Fishing">
                <hasAuthor>
                  <Person rdf:ID="J_R_Hartley">
                    <hasName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >J. R. Hartley</hasName>
                    <hasWritten rdf:resource="#Fly_Fishing"/>
                  </Person>
                </hasAuthor>
                <hasTitle rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >Fly Fishing</hasTitle>
              </Book>
            </hasBook>
          </Purchase>
        </hasMadePurchase>
      </Person>
    </hasBuyer>
  </Purchase>
  <Purchase rdf:ID="Purchase_5">
    <hasBook rdf:resource="#Moby_Dick"/>
    <hasBuyer>
      <Person rdf:ID="Jeff">
        <hasName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >Jeff</hasName>
        <hasMadePurchase rdf:resource="#Purchase_5"/>
      </Person>
    </hasBuyer>
  </Purchase>
</rdf:RDF>

<!-- Created with Protege (with OWL Plugin 2.2, Build 311)  http://protege.stanford.edu -->
